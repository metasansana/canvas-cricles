(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CircleCollection=exports.Circle=void 0;var PI2=Math.PI*2;var VELOCITY=Math.random()*4+1;var Circle=function(){function Circle(ctx,x,y,radius,color,dx,dy){if(dx===void 0){dx=VELOCITY*randomDirection()}if(dy===void 0){dy=VELOCITY*randomDirection()}this.ctx=ctx;this.x=x;this.y=y;this.radius=radius;this.color=color;this.dx=dx;this.dy=dy}Circle.getRandomRadius=function(){return Math.floor(Math.random()*30)+15};Circle.getRandomCoord=function(radius,bound){return Math.random()*(bound-radius*2)+radius};Circle.prototype.draw=function(){var ctx=this.ctx;ctx.beginPath();ctx.fillStyle=this.color;ctx.arc(this.x,this.y,this.radius,0,PI2);ctx.fill()};Circle.prototype.animate=function(){var ctx=this.ctx;this.x+=this.dx;this.y+=this.dy;if(this.x+this.radius>ctx.canvas.width||this.x-this.radius<0)this.dx=-this.dx;if(this.y+this.radius>ctx.canvas.height||this.y-this.radius<0)this.dy=-this.dy;this.draw()};return Circle}();exports.Circle=Circle;var CircleCollection=function(){function CircleCollection(circles){if(circles===void 0){circles=[]}this.circles=circles}CircleCollection.prototype.add=function(circles){this.circles=this.circles.concat(circles);return this};CircleCollection.prototype.draw=function(){this.circles.forEach(function(c){return c.draw()})};CircleCollection.prototype.animate=function(){this.circles.forEach(function(c){return c.animate()})};return CircleCollection}();exports.CircleCollection=CircleCollection;var randomDirection=function(){return Math.floor(Math.random()*2)===1?1:-1}},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var array_1=require("@quenk/noni/lib/data/array");var circle_1=require("./circle");var CircleGame=function(){function CircleGame(ctx){var _this=this;this.ctx=ctx;this.isRunning=false;this.objects=new circle_1.CircleCollection;this.dispatchKey=function(e){switch(e.key){case"Escape":_this.isRunning=false;break;case"Enter":_this.isRunning=true;break;default:break}}}CircleGame.main=function(doc){var canvas=document.querySelector("canvas");var ctx=canvas.getContext("2d");if(ctx!==null){var game=new CircleGame(ctx);var win_1=doc.defaultView;var handleResize=function(){canvas.width=win_1.innerWidth;canvas.height=win_1.innerHeight};win_1.addEventListener("resize",handleResize);win_1.addEventListener("orientationchange",handleResize);canvas.addEventListener("keydown",game.dispatchKey);handleResize();game.run()}else{var div=doc.querySelector("#msg-browser-not-supported");div.hidden=false}};CircleGame.prototype.run=function(){var _this=this;var ctx=this.ctx;this.isRunning=true;this.objects.add(array_1.make(30,function(){var radius=circle_1.Circle.getRandomRadius();var x=circle_1.Circle.getRandomCoord(radius,ctx.canvas.width);var y=circle_1.Circle.getRandomCoord(radius,ctx.canvas.height);var color="red";return new circle_1.Circle(ctx,x,y,radius,color)}));var updateView=function(){_this.ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);_this.objects.animate();requestAnimationFrame(updateView)};updateView()};return CircleGame}();CircleGame.main(document)},{"./circle":1,"@quenk/noni/lib/data/array":3}],3:[function(require,module,exports){"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:true});exports.compact=exports.flatten=exports.combine=exports.make=exports.removeAt=exports.remove=exports.dedupe=exports.distribute=exports.group=exports.partition=exports.concat=exports.flatMap=exports.map=exports.contains=exports.empty=exports.tail=exports.head=void 0;var record_1=require("../record");var math_1=require("../../math");var head=function(list){return list[0]};exports.head=head;var tail=function(list){return list[list.length-1]};exports.tail=tail;var empty=function(list){return list.length===0};exports.empty=empty;var contains=function(list,a){return list.indexOf(a)>-1};exports.contains=contains;var map=function(list){return function(f){return list.map(f)}};exports.map=map;var flatMap=function(list,f){return list.reduce(function(p,c,i){return p.concat(f(c,i,list))},[])};exports.flatMap=flatMap;var concat=function(list,a){return __spreadArrays(list,[a])};exports.concat=concat;var partition=function(list,f){return exports.empty(list)?[[],[]]:list.reduce(function(_a,c,i){var yes=_a[0],no=_a[1];return f(c,i,list)?[exports.concat(yes,c),no]:[yes,exports.concat(no,c)]},[[],[]])};exports.partition=partition;var group=function(list,f){return list.reduce(function(p,c,i){var _a;var g=f(c,i,list);return record_1.merge(p,(_a={},_a[g]=Array.isArray(p[g])?exports.concat(p[g],c):[c],_a))},{})};exports.group=group;var distribute=function(list,size){var r=list.reduce(function(p,c,i){return math_1.isMultipleOf(size,i+1)?[exports.concat(p[0],exports.concat(p[1],c)),[]]:[p[0],exports.concat(p[1],c)]},[[],[]]);return r[1].length===0?r[0]:exports.concat(r[0],r[1])};exports.distribute=distribute;var dedupe=function(list){return list.filter(function(e,i,l){return l.indexOf(e)===i})};exports.dedupe=dedupe;var remove=function(list,target){var idx=list.indexOf(target);if(idx===-1){return list.slice()}else{var a=list.slice();a.splice(idx,1);return a}};exports.remove=remove;var removeAt=function(list,idx){if(list.length>idx&&idx>-1){var a=list.slice();a.splice(idx,1);return a}else{return list.slice()}};exports.removeAt=removeAt;var make=function(size,f){var a=new Array(size);for(var i=0;i<size;i++)a[i]=f(i);return a};exports.make=make;var combine=function(list){return list.reduce(function(p,c){return p.concat(c)},[])};exports.combine=combine;var flatten=function(list){return list.reduce(function(p,c){return p.concat(Array.isArray(c)?exports.flatten(c):c)},[])};exports.flatten=flatten;var compact=function(list){return list.filter(function(v){return v!=null})};exports.compact=compact},{"../../math":7,"../record":5}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.fromNaN=exports.fromNumber=exports.fromBoolean=exports.fromString=exports.fromObject=exports.fromArray=exports.fromNullable=exports.just=exports.nothing=exports.of=exports.Just=exports.Nothing=void 0;var Nothing=function(){function Nothing(){}Nothing.prototype.map=function(_){return new Nothing};Nothing.prototype.ap=function(_){return new Nothing};Nothing.prototype.of=function(a){return new Just(a)};Nothing.prototype.chain=function(_){return new Nothing};Nothing.prototype.alt=function(a){return a};Nothing.prototype.empty=function(){return new Nothing};Nothing.prototype.extend=function(_){return new Nothing};Nothing.prototype.eq=function(m){return m instanceof Nothing};Nothing.prototype.orJust=function(f){return new Just(f())};Nothing.prototype.orElse=function(f){return f()};Nothing.prototype.isNothing=function(){return true};Nothing.prototype.isJust=function(){return false};Nothing.prototype.get=function(){throw new TypeError("Cannot get a value from Nothing!")};return Nothing}();exports.Nothing=Nothing;var Just=function(){function Just(value){this.value=value}Just.prototype.map=function(f){return new Just(f(this.value))};Just.prototype.ap=function(mb){var _this=this;return mb.map(function(f){return f(_this.value)})};Just.prototype.of=function(a){return new Just(a)};Just.prototype.chain=function(f){return f(this.value)};Just.prototype.alt=function(_){return this};Just.prototype.empty=function(){return new Nothing};Just.prototype.extend=function(f){return new Just(f(this))};Just.prototype.eq=function(m){return m instanceof Just&&m.value===this.value};Just.prototype.orJust=function(_){return this};Just.prototype.orElse=function(_){return this};Just.prototype.isNothing=function(){return false};Just.prototype.isJust=function(){return true};Just.prototype.get=function(){return this.value};return Just}();exports.Just=Just;var of=function(a){return new Just(a)};exports.of=of;var nothing=function(){return new Nothing};exports.nothing=nothing;var just=function(a){return new Just(a)};exports.just=just;var fromNullable=function(a){return a==null?new Nothing:new Just(a)};exports.fromNullable=fromNullable;var fromArray=function(a){return a.length===0?new Nothing:new Just(a)};exports.fromArray=fromArray;var fromObject=function(o){return Object.keys(o).length===0?new Nothing:new Just(o)};exports.fromObject=fromObject;var fromString=function(s){return s===""?new Nothing:new Just(s)};exports.fromString=fromString;var fromBoolean=function(b){return b===false?new Nothing:new Just(b)};exports.fromBoolean=fromBoolean;var fromNumber=function(n){return n===0?new Nothing:new Just(n)};exports.fromNumber=fromNumber;var fromNaN=function(n){return isNaN(n)?new Nothing:new Just(n)};exports.fromNaN=fromNaN},{}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pickValue=exports.pickKey=exports.make=exports.rcompact=exports.compact=exports.isBadKey=exports.set=exports.every=exports.some=exports.empty=exports.count=exports.clone=exports.hasKey=exports.values=exports.group=exports.partition=exports.exclude=exports.rmerge5=exports.rmerge4=exports.rmerge3=exports.rmerge=exports.merge5=exports.merge4=exports.merge3=exports.merge=exports.filter=exports.reduce=exports.forEach=exports.mapTo=exports.map=exports.keys=exports.isRecord=exports.assign=exports.badKeys=void 0;var array_1=require("../array");var type_1=require("../type");var maybe_1=require("../maybe");exports.badKeys=["__proto__"];function assign(target){var _varArgs=[];for(var _i=1;_i<arguments.length;_i++){_varArgs[_i-1]=arguments[_i]}var to=Object(target);for(var index=1;index<arguments.length;index++){var nextSource=arguments[index];if(nextSource!=null)for(var nextKey in nextSource)if(Object.prototype.hasOwnProperty.call(nextSource,nextKey))exports.set(to,nextKey,nextSource[nextKey])}return to}exports.assign=assign;var isRecord=function(value){return typeof value==="object"&&value!=null&&!Array.isArray(value)&&!(value instanceof Date)&&!(value instanceof RegExp)};exports.isRecord=isRecord;var keys=function(obj){return Object.keys(obj)};exports.keys=keys;var map=function(rec,f){return exports.keys(rec).reduce(function(p,k){return exports.merge(p,exports.set({},k,f(rec[k],k,rec)))},{})};exports.map=map;var mapTo=function(rec,f){return exports.keys(rec).map(function(k){return f(rec[k],k,rec)})};exports.mapTo=mapTo;var forEach=function(rec,f){return exports.keys(rec).forEach(function(k){return f(rec[k],k,rec)})};exports.forEach=forEach;var reduce=function(rec,accum,f){return exports.keys(rec).reduce(function(p,k){return f(p,rec[k],k)},accum)};exports.reduce=reduce;var filter=function(rec,f){return exports.keys(rec).reduce(function(p,k){return f(rec[k],k,rec)?exports.merge(p,exports.set({},k,rec[k])):p},{})};exports.filter=filter;var merge=function(left,right){return assign({},left,right)};exports.merge=merge;var merge3=function(a,b,c){return assign({},a,b,c)};exports.merge3=merge3;var merge4=function(a,b,c,d){return assign({},a,b,c,d)};exports.merge4=merge4;var merge5=function(a,b,c,d,e){return assign({},a,b,c,d,e)};exports.merge5=merge5;var rmerge=function(left,right){return exports.reduce(right,left,deepMerge)};exports.rmerge=rmerge;var rmerge3=function(r,s,t){return[s,t].reduce(function(p,c){return exports.reduce(c,p,deepMerge)},r)};exports.rmerge3=rmerge3;var rmerge4=function(r,s,t,u){return[s,t,u].reduce(function(p,c){return exports.reduce(c,p,deepMerge)},r)};exports.rmerge4=rmerge4;var rmerge5=function(r,s,t,u,v){return[s,t,u,v].reduce(function(p,c){return exports.reduce(c,p,deepMerge)},r)};exports.rmerge5=rmerge5;var deepMerge=function(pre,curr,key){return exports.isRecord(curr)?exports.merge(pre,exports.set({},key,exports.isRecord(pre[key])?exports.rmerge(pre[key],curr):exports.merge({},curr))):exports.merge(pre,exports.set({},key,curr))};var exclude=function(rec,keys){var list=Array.isArray(keys)?keys:[keys];return exports.reduce(rec,{},function(p,c,k){return list.indexOf(k)>-1?p:exports.merge(p,exports.set({},k,c))})};exports.exclude=exclude;var partition=function(r,f){return exports.reduce(r,[{},{}],function(_a,c,k){var yes=_a[0],no=_a[1];return f(c,k,r)?[exports.merge(yes,exports.set({},k,c)),no]:[yes,exports.merge(no,exports.set({},k,c))]})};exports.partition=partition;var group=function(rec,f){return exports.reduce(rec,{},function(prev,curr,key){var category=f(curr,key,rec);var value=exports.isRecord(prev[category])?exports.merge(prev[category],exports.set({},key,curr)):exports.set({},key,curr);return exports.merge(prev,exports.set({},category,value))})};exports.group=group;var values=function(r){return exports.reduce(r,[],function(p,c){return array_1.concat(p,c)})};exports.values=values;var hasKey=function(r,key){return Object.hasOwnProperty.call(r,key)};exports.hasKey=hasKey;var clone=function(r){return exports.reduce(r,{},function(p,c,k){exports.set(p,k,_clone(c));return p})};exports.clone=clone;var _clone=function(a){if(type_1.isArray(a))return a.map(_clone);else if(exports.isRecord(a))return exports.clone(a);else return a};var count=function(r){return exports.keys(r).length};exports.count=count;var empty=function(r){return exports.count(r)===0};exports.empty=empty;var some=function(o,f){return exports.keys(o).some(function(k){return f(o[k],k,o)})};exports.some=some;var every=function(o,f){return exports.keys(o).every(function(k){return f(o[k],k,o)})};exports.every=every;var set=function(r,k,value){if(!exports.isBadKey(k))r[k]=value;return r};exports.set=set;var isBadKey=function(key){return exports.badKeys.indexOf(key)!==-1};exports.isBadKey=isBadKey;var compact=function(rec){var result={};for(var key in rec)if(rec.hasOwnProperty(key))if(rec[key]!=null)result=exports.set(result,key,rec[key]);return result};exports.compact=compact;var rcompact=function(rec){return exports.compact(exports.map(rec,function(val){return exports.isRecord(val)?exports.rcompact(val):val}))};exports.rcompact=rcompact;var make=function(init){if(init===void 0){init={}}var rec={};Object.defineProperty(rec,"__proto__",{configurable:false,enumerable:false,set:function(){}});for(var key in init)if(init.hasOwnProperty(key))rec[key]=init[key];return rec};exports.make=make;var pickKey=function(rec,test){return exports.reduce(rec,maybe_1.nothing(),function(p,c,k){return p.isJust()?p:test(c,k,rec)?maybe_1.just(k):p})};exports.pickKey=pickKey;var pickValue=function(rec,test){return exports.reduce(rec,maybe_1.nothing(),function(p,c,k){return p.isJust()?p:test(c,k,rec)?maybe_1.just(c):p})};exports.pickValue=pickValue},{"../array":3,"../maybe":4,"../type":6}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toString=exports.show=exports.test=exports.is=exports.isPrim=exports.isFunction=exports.isBoolean=exports.isNumber=exports.isString=exports.isArray=exports.isObject=exports.Any=void 0;var prims=["string","number","boolean"];var Any=function(){function Any(){}return Any}();exports.Any=Any;var isObject=function(value){return typeof value==="object"&&!exports.isArray(value)};exports.isObject=isObject;exports.isArray=Array.isArray;var isString=function(value){return typeof value==="string"};exports.isString=isString;var isNumber=function(value){return typeof value==="number"&&!isNaN(value)};exports.isNumber=isNumber;var isBoolean=function(value){return typeof value==="boolean"};exports.isBoolean=isBoolean;var isFunction=function(value){return typeof value==="function"};exports.isFunction=isFunction;var isPrim=function(value){return!(exports.isObject(value)||exports.isArray(value)||exports.isFunction(value))};exports.isPrim=isPrim;var is=function(expected){return function(value){return typeof value===expected}};exports.is=is;var test=function(value,t){if(prims.indexOf(typeof t)>-1&&value===t)return true;else if(typeof t==="function"&&(t===String&&typeof value==="string"||t===Number&&typeof value==="number"||t===Boolean&&typeof value==="boolean"||t===Array&&Array.isArray(value)||t===Any||value instanceof t))return true;else if(t instanceof RegExp&&(typeof value==="string"&&t.test(value)))return true;else if(typeof t==="object"&&typeof value==="object")return Object.keys(t).every(function(k){return Object.hasOwnProperty.call(value,k)?exports.test(value[k],t[k]):false});return false};exports.test=test;var show=function(value){if(typeof value==="object"){if(Array.isArray(value))return"["+value.map(exports.show)+"];";else if(value.constructor!==Object)return value.constructor.name||value.constructor;else return JSON.stringify(value)}else{return""+value}};exports.show=show;var toString=function(val){return val==null?"":String(val)};exports.toString=toString},{}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.round=exports.isMultipleOf=void 0;var isMultipleOf=function(x,y){return y%x===0};exports.isMultipleOf=isMultipleOf;var round=function(x,n){if(n===void 0){n=0}var exp=Math.pow(10,n);var sign=x>=0?1:-1;var offset=n>0?1/Math.pow(10,n+1):0;return sign*(Math.round(Math.abs(x)*exp+offset)/exp)};exports.round=round},{}]},{},[2]);
